
jQuery(document).ready(function(){jQuery("#languageChooser").popover({container:"body",placement:"bottom",template:'<div class="popover language-popover" role="tooltip"><div class="arrow"></div><div class="popover-content"></div></div>',html:true,content:function(){return jQuery("#languageChooserContent").html()},});jQuery("#loginOrRegister").popover({container:"body",placement:"bottom",template:'<div class="popover login-popover" role="tooltip"><div class="arrow"></div><div class="popover-content"></div></div>',html:true,content:function(){return jQuery("#loginOrRegisterContent").html()},});jQuery("#accountNotifications").popover({container:"body",placement:"bottom",template:'<div class="popover popover-user-notifications" role="tooltip"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>',html:true,content:function(){return jQuery("#accountNotificationsContent").html()},});jQuery('[data-toggle="popover"]').popover({html:true});jQuery("body").on("click",function(h){jQuery('[data-toggle="popover"]').each(function(){if(!jQuery(this).is(h.target)&&jQuery(this).has(h.target).length===0&&jQuery(".popover").has(h.target).length===0){jQuery(this).popover("hide")}})});jQuery(".list-group-tab-nav a").click(function(){if(jQuery(this).hasClass("disabled")){return false}jQuery(".list-group-tab-nav a").removeClass("active");jQuery(this).addClass("active");var h=this.href.split("#")[1];if(h){window.location.hash="#"+h}});if(jQuery(location).attr("hash").substr(1)!=""){var a=jQuery(location).attr("hash");jQuery(".tab-pane").removeClass("active");jQuery(a).removeClass("fade").addClass("active");jQuery(".list-group-tab-nav a").removeClass("active");jQuery('a[href="'+a+'"]').addClass("active");setTimeout(function(){window.scrollTo(0,0)},1)}if(jQuery.prototype.bootstrapSwitch){jQuery(".toggle-switch-success").bootstrapSwitch({onColor:"success"})}jQuery(".panel-collapsable .panel-heading").click(function(i){var h=jQuery(this);if(!h.parents(".panel").hasClass("panel-collapsed")){h.parents(".panel").addClass("panel-collapsed").find(".panel-body").slideUp();h.find(".collapse-icon i").removeClass("fa-minus").addClass("fa-plus")}else{h.parents(".panel").removeClass("panel-collapsed").find(".panel-body").slideDown();h.find(".collapse-icon i").removeClass("fa-plus").addClass("fa-minus")}});if(("#frmLogin").length>0){jQuery("#frmLogin input:text:visible:first").focus()}if(("#twofaactivation").length>0){jQuery("#twofaactivation input:text:visible:first,#twofaactivation input:password:visible:first").focus()}jQuery("#inputSubaccountActivate").click(function(){if(jQuery("#inputSubaccountActivate:checked").val()!=null){jQuery("#subacct-container").removeClass("hidden")}else{jQuery("#subacct-container").addClass("hidden")}});jQuery(".setBulkAction").click(function(h){h.preventDefault();var j=jQuery(this).attr("id").replace("Link","");if(jQuery("#"+j).length!=0){var i=jQuery("#domainForm").attr("action");jQuery("#domainForm").attr("action",i+"#"+j)}jQuery("#bulkaction").val(j);jQuery("#domainForm").submit()});jQuery(".stopEventBubble").click(function(h){h.stopPropagation()});jQuery(".tabControlLink").on("click",function(h){h.preventDefault();var i=jQuery(this).attr("href");jQuery("a[href='/"+i+"']").click()});jQuery(".ticket-reply .rating span.star").click(function(h){window.location="viewticket.php?tid="+jQuery(this).parent(".rating").attr("ticketid")+"&c="+jQuery(this).parent(".rating").attr("ticketkey")+"&rating=rate"+jQuery(this).parent(".rating").attr("ticketreplyid")+"_"+jQuery(this).attr("rate")});jQuery("a.autoLinked").click(function(h){h.preventDefault();var i=window.open();i.opener=null;i.location=h.target.href});jQuery("#inputAllowSso").on("switchChange.bootstrapSwitch",function(h,i){if(i){jQuery("#ssoStatusTextEnabled").removeClass("hidden").show();jQuery("#ssoStatusTextDisabled").hide()}else{jQuery("#ssoStatusTextDisabled").removeClass("hidden").show();jQuery("#ssoStatusTextEnabled").hide()}jQuery.post("clientarea.php",jQuery("#frmSingleSignOn").serialize())});var d=0,e="clientMDE",b=0;jQuery(".markdown-editor").each(function(i){d++;var h=jQuery(this).data("auto-save-name"),j=jQuery(this).attr("id")+"-footer";if(typeof h=="undefined"){h="client_area"}window[e+d.toString()]=jQuery(this).markdown({footer:'<div id="'+j+'" class="markdown-editor-status"></div>',autofocus:false,savable:false,resize:"vertical",iconlibrary:"fa",language:locale,onShow:function(l){var k="",m=false;if(typeof(Storage)!=="undefined"){k=localStorage.getItem(h);m=true;if(k&&typeof(k)!=="undefined"){l.setContent(k)}}jQuery("#"+j).html(g(k,m,saved))},onChange:function(l){var k=l.getContent(),m=false;if(typeof(Storage)!=="undefined"){b=3;m=true;localStorage.setItem(h,k);f()}jQuery("#"+j).html(g(k,m))},onPreview:function(m){var k=m.getContent(),l;jQuery.ajax({url:"clientarea.php",async:false,data:{token:csrfToken,action:"parseMarkdown",content:k},success:function(n){l=JSON.parse(n)}});return l.body?l.body:""},additionalButtons:[[{name:"groupCustom",data:[{name:"cmdHelp",title:"Help",hotkey:"Ctrl+F1",btnClass:"btn open-modal",href:"submitticket.php?action=markdown",icon:{glyph:"glyphicons glyphicons-question-sign",fa:"fa fa-question-circle","fa-3":"icon-question-sign"},callback:function(k){k.$editor.removeClass("md-fullscreen-mode")},additionalAttr:[{name:"data-modal-title",value:markdownGuide}]}]}]]});jQuery(this).closest("form").bind({submit:function(){if(typeof(Storage)!=="undefined"){localStorage.removeItem(h)}}})});jQuery("#btnResendVerificationEmail").click(function(){jQuery.post("clientarea.php",{token:csrfToken,action:"resendVerificationEmail"}).done(function(h){jQuery("#btnResendVerificationEmail").prop("disabled",true)})});function g(n,k,j){j=j||saving;var o=/[^\s]+/g,h=[],p=0,q=0;if(n){h=n.match(o);q=n.split(/\\r\\n|\\r|\\n/).length}if(h){for(var l=0;l<h.length;l++){if(h[l].charCodeAt(0)>=19968){p+=h[l].length}else{p+=1}}}return'<div class="small-font">lines: '+q+"&nbsp;&nbsp;&nbsp;words: "+p+""+(k?'&nbsp;&nbsp;&nbsp;<span class="markdown-save">'+j+"</span>":"")+"</div>"}function f(){if(b>=0){if(b==0){jQuery("span.markdown-save").html(saved)}b--;setTimeout(f,1000)}}var c=$("input[name=2fasetup]").parent("form");c.submit(function(h){h.preventDefault();openModal(c.attr("action"),c.serialize(),"Loading...")})});function checkAll(a,b){if(a[0]!="."){a="."+a}jQuery(a).removeAttr("checked");if(jQuery(b).is(":checked")){jQuery(a).click()}}function clickableSafeRedirect(a,f,d){var c=a.target.tagName.toLowerCase();var b=a.target.parentNode.tagName.toLowerCase();var e=a.target.parentNode.parentNode.parentNode;if(jQuery(e).hasClass("collapsed")){return false}if(c!="button"&&c!="a"){if(b!="button"&&b!="a"){if(d){window.open(f)}else{window.location.href=f}}}}function popupWindow(i,b,a,f,e){var d=(screen.width-a)/2;var g=(screen.height-f)/2;if(d<0){d=0}if(g<0){g=0}var c="height="+f+",";c+="width="+a+",";c+="top="+g+",";c+="left="+d+",";c+=e;win=window.open(i,b,c);win.window.focus()}function addRenewalToCart(c,b){jQuery("#domainRow"+c).attr("disabled","disabled");jQuery("#domainRow"+c).find("select,button").attr("disabled","disabled");jQuery(b).html('<span class="glyphicon glyphicon-shopping-cart"></span> Adding...');var a=jQuery("#renewalPeriod"+c).val();jQuery.post("clientarea.php","addRenewalToCart=1&token="+csrfToken+"&renewID="+c+"&period="+a,function(d){jQuery("#cartItemCount").html(((jQuery("#cartItemCount").html()*1)+1));jQuery(b).html('<span class="glyphicon glyphicon-shopping-cart"></span> Added');jQuery("#btnCheckout").fadeIn()})}function selectChangeNavigate(a){window.location.href=$(a).val()}function extraTicketAttachment(){jQuery("#fileUploadsContainer").append('<input type="file" name="attachments[]" class="form-control" />')}function getStats(a){jQuery.post("serverstatus.php","getstats=1&num="+a,function(b){jQuery("#load"+a).html(b.load);jQuery("#uptime"+a).html(b.uptime)},"json")}function checkPort(b,a){jQuery.post("serverstatus.php","ping=1&num="+b+"&port="+a,function(c){jQuery("#port"+a+"_"+b).html(c)})}function getticketsuggestions(){currentcheckcontent=jQuery("#message").val();if(currentcheckcontent!=lastcheckcontent&&currentcheckcontent!=""){jQuery.post("submitticket.php",{action:"getkbarticles",text:currentcheckcontent},function(a){if(a){jQuery("#searchresults").html(a);jQuery("#searchresults").hide().removeClass("hidden").slideDown()}});lastcheckcontent=currentcheckcontent}setTimeout("getticketsuggestions();",3000)}function refreshCustomFields(a){jQuery("#customFieldsContainer").load("submitticket.php",{action:"getcustomfields",deptid:$(a).val()})}function autoSubmitFormByContainer(a){jQuery("#"+a).find("form:first").submit()}function useDefaultWhois(a){jQuery("."+a.substr(0,a.length-1)+"customwhois").attr("disabled",true);jQuery("."+a.substr(0,a.length-1)+"defaultwhois").attr("disabled",false);jQuery("#"+a.substr(0,a.length-1)+"1").attr("checked","checked")}function useCustomWhois(a){jQuery("."+a.substr(0,a.length-1)+"customwhois").attr("disabled",false);jQuery("."+a.substr(0,a.length-1)+"defaultwhois").attr("disabled",true);jQuery("#"+a.substr(0,a.length-1)+"2").attr("checked","checked")}function editBillingAddress(){jQuery("#billingAddressSummary").hide();jQuery(".cc-billing-address").hide().removeClass("hidden").fadeIn()}function showNewCardInputFields(){if(jQuery(".cc-details").hasClass("hidden")){jQuery(".cc-details").hide().removeClass("hidden")}jQuery(".cc-details").slideDown();jQuery("#btnEditBillingAddress").removeAttr("disabled")}function hideNewCardInputFields(){jQuery(".cc-billing-address").slideUp();jQuery(".cc-details").slideUp();jQuery("#btnEditBillingAddress").attr("disabled","disabled");if(jQuery("#billingAddressSummary").hasClass("hidden")){jQuery("#billingAddressSummary").hide().removeClass("hidden").slideDown()}else{jQuery("#billingAddressSummary").slideDown()}}var lastTicketMsg;function getTicketSuggestions(){var a=jQuery("#inputMessage").val();if(a!=lastTicketMsg&&a!=""){jQuery.post("submitticket.php",{action:"getkbarticles",text:a},function(b){if(b){jQuery("#autoAnswerSuggestions").html(b);if(!jQuery("#autoAnswerSuggestions").is(":visible")){jQuery("#autoAnswerSuggestions").hide().removeClass("hidden").slideDown()}}});lastTicketMsg=a}setTimeout("getTicketSuggestions()",3000)}function deleteContact(a,b){if(confirm(a)){window.location="clientarea.php?action=contacts&delete=true&id="+b+"&token="+csrfToken}};